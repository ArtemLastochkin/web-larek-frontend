# Проектная работа "Веб-ларек"

WEB-ларёк это интернет магазин с товарами для веб-разработчиков. В нем можно посмотреть каталог товаров, добавить товары в корзину и сделать заказ.

Стек: HTML, SCSS, TS, Webpack

Инструменты линтинга и форматирования подключены.

Структура проекта:

- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:

- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск

Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```

## Сборка

```
npm run build
```

или

```
yarn build
```

## Базовый код

1. Класс EventEmitter
   Позволяет подписываться на события и уведомлять подписчиков о наступлении события.
   Класс имеет методы on , off , emit — для подписки на событие, отписки от события и уведомления подписчиков о наступлении события соответственно.
   Дополнительно реализованы методы onAll и offAll — для подписки на все события и сброса всех подписчиков.
   Интересным дополнением является метод trigger , генерирующий заданное событие с заданными аргументами. Это позволяет передавать его в качестве обработчика события в другие классы. 
   Эти классы будут генерировать события, не будучи при этом напрямую зависимыми от класса EventEmitter.

2. Класс Api
   Предназначен для получения данных и отправки на сервер. Конструктор класса принимает два параметра baseUrl - базовый URL и options - объект с настройками.
   Имеет публичные методы get , post для получения и отправки данных на сервер, а также защищенный метод handleResponse который обрабатывает ответ запроса.

## Модели данных

Компоненты данной группы, хранят необходимые данные для дальнейшей обработки.

1. Класс ModelCard
   Данный компонент предназанчен для хранения данных карточек. Конструктор класса принимает аргумент objCards - объект с данными всех карточек на странице и общим количеством карточек, переопределяет свойства cards , total.

Свойства класса:

> cards: Card[]; - Хранит массив объектов всех карточек. Содержит объекты типа Card.  
> total: number; - Харнит количество объектов карточек

Методы класса:

> getDataCardAll(): Card[]; - Метод возвращает массив объектов всех карточек. Содержит объекты типа Card.
> getDataCard(id: string): Card; - Метод возвращает объект карточки по определенному id

## Модели вида

Компоненты данной группы, создают готовые HTML элементы.

1. Класс ViewCard
   Компонент собирает HTML элементы карточек для главной страницы приложения и хранит элементы в свойстве elementCards.
   В конструктор класса передается результат вызова метода getDataCardAll экземпляра класса ModelCard, параметр имеет тип данных Card[].
   Для каждого элемента массива с объектами карточек создается HTMLElement по шаблону: Template `id="card-catalog"`, а также добавляется атрибут `id`. Созданные элементы добавляются в массив элементов карточек в свйства elementCards.
   Операции с HTML элементами прооводятся с помощью утилит из файла utils.ts.

Свойства класса:

> elementCards: HTMLElement[] = []; - Свойство хранит массив всех HTML элементы карточек для главной страницы приложения. Изначално пустой массив.
> elementTemplateCardCatalog: string; - Свойство содежит id в виде строки, шаблона карточки для главной страницы.

Методы класса:

> getElementCards(): HTMLElement[]; - Метод возвращает значение свойства elementCards в виде массива элементов.

## Отображение

Компоненты данной группы отображают элементы на странице и устанавливают слушателей событий.

1. Класс CardUI
   Компонент добавляет элементы карточек в разметку и отображает на экране все карточки главной страницы, устанавливает слушатель клика по карточке. 
   Конструктор принимает на вход результат вызова метода getElementCards экземпляра класса ViewCard с типом HTMLElement[], добавляет каждый элемент полученного массива в разметку страницы в блок main и устанавливает на каждый элемент слушатель клика.

   Методы класса:

   > handleClickCard(exampleModelPreviewCard: ModelPreviewCard):
